<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Charu</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Quicksand:wght@400;500&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  background:radial-gradient(circle at 30% 30%, #e7a9bc, #f2c3d2 60%, #f6dce5);
  font-family:'Playfair Display', serif;
  color:white;
  overflow-x:hidden;
  transition:background 1.5s ease;
}

.glow{
  background:radial-gradient(circle at center, #ff9ecf, #ff6fb5 70%);
}

.section{
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  text-align:center;
  padding:40px;
  opacity:0;
  transform:translateY(40px);
  transition:all 1.2s ease;
}

.section.show{
  opacity:1;
  transform:translateY(0);
}

.content{
  max-width:650px;
  font-size:2rem;
  line-height:1.6;
  text-shadow:0 6px 25px rgba(0,0,0,0.35);
}

.valentine{
  font-size:3.2rem;
  margin-bottom:40px;
}

.buttons{
  display:flex;
  justify-content:center;
  gap:25px;
  margin-top:30px;
}

button{
  padding:15px 35px;
  border:none;
  border-radius:40px;
  font-size:18px;
  font-family:'Quicksand', sans-serif;
  cursor:pointer;
  transition:0.3s ease;
}

#yesBtn{
  background:white;
  color:#ff6fb5;
}

#noBtn{
  background:#ff6fb5;
  color:white;
  position:relative;
}

@keyframes shake{
  0%{transform:translate(0,0);}
  20%{transform:translate(-5px,3px);}
  40%{transform:translate(5px,-3px);}
  60%{transform:translate(-4px,2px);}
  80%{transform:translate(4px,-2px);}
  100%{transform:translate(0,0);}
}

.no-shake{
  animation:shake 0.4s ease;
}
</style>
</head>

<body>

<div class="section"><div class="content">Charuuuu ü§ç</div></div>

<div class="section">
<div class="content">
You act so innocent and cold‚Ä¶ but your voice is the softest place I know.
</div>
</div>

<div class="section">
<div class="content">
Even behind those glasses‚Ä¶ your eyes still win every single time.
</div>
</div>

<div class="section">
<div class="content">
It‚Äôs been almost a year of us talking‚Ä¶ and somewhere in between, you became my comfort.
</div>
</div>

<div class="section">
<div class="content">
I didn‚Äôt plan this. I didn‚Äôt force this. It just happened.
</div>
</div>

<div class="section">
<div class="content valentine">
Will you be my Valentine?
<div class="buttons">
<button id="yesBtn">Yes ü§ç</button>
<button id="noBtn">No</button>
</div>
<p id="noMessage" style="margin-top:25px;font-size:1.2rem;"></p>
</div>
</div>

<!-- FIXED AUDIO -->
<audio id="bgm" src="./bg-music.mp3" preload="auto" loop></audio>

<script>

// SCROLL REVEAL
const sections = document.querySelectorAll('.section');

function reveal(){
  sections.forEach(sec=>{
    const rect = sec.getBoundingClientRect();
    if(rect.top < window.innerHeight - 100){
      sec.classList.add('show');
    }
  });
}
window.addEventListener('scroll', reveal);
reveal();

// STABLE AUDIO UNLOCK
const music = document.getElementById("bgm");
let unlocked = false;

function unlockAudio(){
  if(unlocked) return;

  music.volume = 0.25;

  music.play().then(()=>{
    unlocked = true;
  }).catch(()=>{});
}

document.addEventListener("pointerdown", unlockAudio);

// NO BUTTON CHAOS
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const noMessage = document.getElementById("noMessage");

let scale = 1;
let count = 0;

const noTexts = [
"Why are you saying no üò≠",
"Catch me if you can ü•±",
"Charuuuu don‚Äôt do this üò©",
"You‚Äôre enjoying this aren‚Äôt you?",
"Okay okay I surrender üò≠"
];

noBtn.addEventListener("click",(e)=>{
  e.stopPropagation();
  noBtn.classList.add("no-shake");

  setTimeout(()=>{
    noBtn.classList.remove("no-shake");
    noBtn.style.left = (Math.random()*200-100)+"px";
    noBtn.style.top = (Math.random()*150-75)+"px";
  },400);

  if(scale > 0.5){
    scale -= 0.08;
    noBtn.style.transform = `scale(${scale})`;
  }

  noMessage.innerText = noTexts[count] || noTexts[noTexts.length-1];
  count++;
});

yesBtn.addEventListener("click",(e)=>{
  e.stopPropagation();
  document.body.classList.add("glow");
  noMessage.innerText = "";
});

</script>

</body>
</html>
